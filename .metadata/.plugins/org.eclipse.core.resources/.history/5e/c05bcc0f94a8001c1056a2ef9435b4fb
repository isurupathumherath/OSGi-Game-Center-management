package com.gamecenter.sa.osgi.gameserviceproducer;

import org.osgi.framework.BundleActivator;
import org.osgi.framework.BundleContext;
import org.osgi.framework.ServiceRegistration;

import com.gamecenter.sa.osgi.gamemanageservice.GameManageService;
import com.gamecenter.sa.osgi.gamemanageservice.GameManageServiceImpl;
import com.gamecenter.sa.osgi.gameservice.GameService;
import com.gamecenter.sa.osgi.gameservice.GameServiceImpl;

public class GameServiceProducerActivator implements BundleActivator {

	ServiceRegistration serviceRegisterer;
	
	public void start(BundleContext bundleContext) throws Exception {
		System.out.println("============Supermarket service started.============");
		GameService gameService = new GameServiceImpl();
		serviceRegisterer = bundleContext.registerService(GameService.class.getName(), gameService, null); //Register GameService
		GameManageService gameManageService = new GameManageServiceImpl();
		serviceRegister = bundleContext.registerService(GameManageService.class.getName(), gameManageService, null);
	}

	public void stop(BundleContext bundleContext) throws Exception {
		System.out.println("==============Supermarket service closed.=============");
		serviceRegisterer.unregister();
	}

}
